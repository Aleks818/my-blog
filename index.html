<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ú–æ–π –ë–ª–æ–≥</title>
  <style>
    body {
  font-family: 'Segoe UI', Arial, sans-serif;
  background-image: url('nature-bg.jpg');
  background-size: cover; /* –£—Å—Ç–∞–Ω–æ–≤–∏–º —Ä–∞–∑–º–µ—Ä "cover", —á—Ç–æ–±—ã –ø–æ–∫—Ä—ã—Ç—å –≤—Å—ë –æ–∫–Ω–æ */
  background-position: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ */
  background-attachment: fixed; /* –§–æ–Ω –±—É–¥–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ */
  min-height: 100vh;
  padding: 20px;
  margin: 0;
  position: relative;
    }
    h1 {
      color: #2c3e50;
    }
    .article {
      background: white;
      margin: 20px auto;
      padding: 20px;
      width: 80%;
      max-width: 600px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    a {
      color: #3498db;
      text-decoration: none;
      font-weight: bold;
    }
    a:hover {
      text-decoration: underline;
    }
    footer {
      margin-top: 50px;
      color: #777;
      font-size: 0.9em;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üåç –ú–æ–π –ë–ª–æ–≥</h1>
      <p>–ò—Å—Ç–æ—Ä–∏–∏, –º—ã—Å–ª–∏ –∏ –æ—Ç–∫—Ä—ã—Ç–∏—è</p>
    </header>

    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
    <div class="controls">
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Å—Ç–∞—Ç—å—è–º..." />
      </div>
      <div class="theme-toggle">
        <button id="lightTheme">–°–≤–µ—Ç–ª–∞—è</button>
        <button id="darkTheme">–¢—ë–º–Ω–∞—è</button>
      </div>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) -->
    <section id="articles-list" class="articles">
      <!-- –°—é–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤—è—Ç—Å—è —Å—Ç–∞—Ç—å–∏ -->
    </section>

    <footer>
      <p>&copy; 2025 –ú–æ–π –ë–ª–æ–≥. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </footer>
  </div>

  <!-- –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–µ–Ω—é -->
 <script>
  // === –¢–µ–º–∞ ===
  const body = document.body;
  if (localStorage.getItem('theme') === 'dark') {
    body.classList.add('dark-theme');
  }
  document.getElementById('lightTheme')?.addEventListener('click', () => {
    body.classList.remove('dark-theme');
    localStorage.setItem('theme', 'light');
  });
  document.getElementById('darkTheme')?.addEventListener('click', () => {
    body.classList.add('dark-theme');
    localStorage.setItem('theme', 'dark');
  });

  // === –ü–æ–∏—Å–∫ ===
  const searchInput = document.getElementById('searchInput');
  let articles = [];

  // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ .md —Ñ–∞–π–ª–æ–≤
  fetch('articles/')
    .then(response => response.text())
    .then(data => {
      const parser = new DOMParser();
      const doc = parser.parseFromString(data, 'text/html');
      const links = [...doc.querySelectorAll('a')]
        .map(a => a.href)
        .filter(href => href.endsWith('.md'))
        .map(href => {
          const filename = href.split('/').pop().replace('.md', '');
          const title = decodeURIComponent(filename)
            .replace(/-/g, ' ')
            .replace(/\b\w/g, l => l.toUpperCase());
          return { href, title, filename };
        });

      const container = document.getElementById('articles-list');
      articles = links.map(article => {
        const div = document.createElement('div');
        div.className = 'article';
        div.setAttribute('data-title', article.title);
        div.innerHTML = `
          <h2><a href="article.html?file=${article.filename}">${article.title}</a></h2>
          <p>–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ ‚Üí</p>
        `;
        container.appendChild(div);
        return div;
      });

      // –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—è–º
      searchInput?.addEventListener('input', () => {
        const query = searchInput.value.toLowerCase();
        articles.forEach(articleEl => {
          const title = articleEl.getAttribute('data-title').toLowerCase();
          articleEl.style.display = title.includes(query) ? 'flex' : 'none';
        });
      });
    })
    .catch(() => {
      document.getElementById('articles-list').innerHTML = `
        <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç–∞—Ç—å–∏. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∞–π—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (GitHub Pages, Replit –∏ —Ç.–ø.).</p>
      `;
    });
</script>
</body>
</html>